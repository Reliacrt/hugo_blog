<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title>Test - 槲落的小站</title><meta name="Description" content="槲落的小站，你发现了"><meta property="og:title" content="Test" />
<meta property="og:description" content="1 Color Dust 色尘，佛教语。“六尘”之一。 即眼根（视觉）所触及的尘境。 色尘知有数，劫烬岂无年。 —— 唐·李绅《题法华寺》 2 数据来源 ~~ 3 图片即数据 像素 =&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://relia.xyz/slide/test/" /><meta property="og:image" content="https://relia.xyz/images/avatar.webp"/><meta property="article:section" content="slide" />
<meta property="article:published_time" content="2021-07-26T17:41:36+08:00" />
<meta property="article:modified_time" content="2021-07-26T17:41:36+08:00" /><meta property="og:site_name" content="槲落的小站" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://relia.xyz/images/avatar.webp"/>

<meta name="twitter:title" content="Test"/>
<meta name="twitter:description" content="1 Color Dust 色尘，佛教语。“六尘”之一。 即眼根（视觉）所触及的尘境。 色尘知有数，劫烬岂无年。 —— 唐·李绅《题法华寺》 2 数据来源 ~~ 3 图片即数据 像素 =&gt;"/>
<meta name="application-name" content="槲落的小站">
<meta name="apple-mobile-web-app-title" content="槲落的小站">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://relia.xyz/slide/test/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/color.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript>
    
    
    
    <meta name="google-site-verification" content="MQ8DNu27ayX6B_4ObiEDK09vGr1fdy7kOAnbd09hJk4" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Test",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/relia.xyz\/slide\/test\/"
        },"image": ["https:\/\/relia.xyz\/images\/Apple-Devices-Preview.png"],"genre": "slide","wordcount":  1700 ,
        "url": "https:\/\/relia.xyz\/slide\/test\/","datePublished": "2021-07-26T17:41:36+08:00","dateModified": "2021-07-26T17:41:36+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/relia.xyz\/images\/avatar.webp",
                    "width":  528 ,
                    "height":  560 
                }},"author": {
                "@type": "Person",
                "name": "槲落"
            },"description": ""
    }
    </script><script src="//instant.page/5.1.1" defer type="module" integrity="sha384-MWfCL6g1OTGsbSwfuMHc8+8J2u71/LA8dzlIN3ycajckxuZZmF+DNjdm7O6H3PSq"></script>
</head>

<body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme); document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');}
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('auto' === 'light' || 'auto' === 'dark' || 'auto' === 'black') setTheme('auto'), saveTheme('auto'); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let metaColors = {'light': '#f8f8f8','dark': '#252627','black': '#000000'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="槲落的小站"><span class="header-title-pre"><i class='far fa-edit fa-fw'></i></span><span id="desktop-header-typeit" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/series/"> 系列 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><a href="#" class="menu-item language" title="选择语言">简体中文<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" title="Select Language" id="language-select-desktop" onchange="location = this.value;"><option value="/slide/test/" selected>简体中文</option></select>
                    </a><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="#" class="menu-item theme-select" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                    <select class="color-theme-select" id="theme-select-desktop" title="切换主题">
                        <option value="light">浅色</option>
                        <option value="dark">深色</option>
                        <option value="black">黑色</option>
                        <option value="auto">跟随系统</option>
                    </select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="槲落的小站"><span class="header-title-pre"><i class='far fa-edit fa-fw'></i></span><span id="mobile-header-typeit" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/series/" title="">系列</a><a class="menu-item" href="/about/" title="">关于</a><a href="#" class="menu-item theme-select" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
                <select class="color-theme-select" id="theme-select-mobile" title="切换主题">
                    <option value="light">浅色</option>
                    <option value="dark">深色</option>
                    <option value="black">黑色</option>
                    <option value="auto">跟随系统</option>
                </select>
            </a><a href="#" class="menu-item" title="选择语言">简体中文<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" title="Select Language" onchange="location = this.value;"><option value="/slide/test/" selected>简体中文</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="page single special"><h1 class="single-title animate__animated animate__pulse animate__faster">Test</h1><div class="content" id="content"><link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
<!-- 6-最后一节课讲解数据来源，数据质量，数据清洗过程，实现细节，创意设计，可以准备 PPT，互评打分（给每个同学打分，不给自己和同组的同学打分，60%分值） -->
<h2 id="color-dust" class="headerLink">
    <a href="#color-dust" class="header-mark"></a>1 Color Dust</h2><p><a class="lightgallery" href="https://www.yunyoujun.cn/color-dust/color.svg" title="color.svg" data-thumbnail="https://www.yunyoujun.cn/color-dust/color.svg">
        <img
            
            loading="lazy"
            src="https://www.yunyoujun.cn/color-dust/color.svg"
            srcset="https://www.yunyoujun.cn/color-dust/color.svg, https://www.yunyoujun.cn/color-dust/color.svg 1.5x, https://www.yunyoujun.cn/color-dust/color.svg 2x"
            sizes="auto"
            alt="https://www.yunyoujun.cn/color-dust/color.svg">
    </a></p>
<small>
色尘，佛教语。“六尘”之一。
<p>即眼根（视觉）所触及的尘境。
</small></p>
<hr>
<blockquote>
<p>色尘知有数，劫烬岂无年。<br>
—— 唐·李绅《题法华寺》</p>
</blockquote>
<hr>
<h2 id="数据来源" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e6%9d%a5%e6%ba%90" class="header-mark"></a>2 数据来源</h2><p><i class="ri-image-line" style="font-size: 6rem;"></i></p>
<p>~~</p>
<h2 id="图片即数据" class="headerLink">
    <a href="#%e5%9b%be%e7%89%87%e5%8d%b3%e6%95%b0%e6%8d%ae" class="header-mark"></a>3 图片即数据</h2><blockquote>
<p>像素 =&gt;
<span style="color:red">R</span> <span style="color:green">G</span> <span style="color:blue">B</span></p>
</blockquote>
<h3 id="i-classri-file-upload-linei" class="headerLink">
    <a href="#i-classri-file-upload-linei" class="header-mark"></a>3.1 <i class="ri-file-upload-line"></i></h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="i-classri-links-linei" class="headerLink">
    <a href="#i-classri-links-linei" class="header-mark"></a>3.2 <i class="ri-links-line"></i></h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Note: 图片便是数据的一种表现形式，一张图片往往相比文本蕴藏着海量的数据。通过上传文件或链接去请求加载图片。</p>
<p>~~</p>
<h2 id="随机图片" class="headerLink">
    <a href="#%e9%9a%8f%e6%9c%ba%e5%9b%be%e7%89%87" class="header-mark"></a>4 随机图片</h2><p><i class="ri-gallery-line"></i></p>
<p>测试数据，在线切换</p>
<p>Note: 我也准备了一些随机图片，届时可以点击切换效果。</p>
<hr>
<h2 id="数据清洗" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e6%b8%85%e6%b4%97" class="header-mark"></a>5 数据清洗</h2><p><i class="ri-drop-line" style="font-size: 6rem;"></i></p>
<p>~~</p>
<h3 id="canvas-图片像素" class="headerLink">
    <a href="#canvas-%e5%9b%be%e7%89%87%e5%83%8f%e7%b4%a0" class="header-mark"></a>5.1 Canvas 图片像素</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">row</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">row</span> <span class="o">&lt;</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">height</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">col</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">col</span> <span class="o">&lt;</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">width</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">r</span> <span class="o">=</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">row</span> <span class="o">*</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="nx">col</span> <span class="o">*</span> <span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">g</span> <span class="o">=</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">row</span> <span class="o">*</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="nx">col</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span> <span class="o">=</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">row</span> <span class="o">*</span> <span class="nx">imageData</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="nx">col</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">hsl</span> <span class="o">=</span> <span class="nx">rgbToHsl</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">g</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>RGB <i class="ri-arrow-left-right-line"></i> HSL</p>
<p>H 色相、S 饱和度、L 明度</p>
<p>Note: 使用 Canvas 读取图片像素，便可以获得 RGB 的信息，我们可以再将其转换为 HSL 以供后续使用。</p>
<p>~~</p>
<h2 id="i-classri-contrast-drop-linei" class="headerLink">
    <a href="#i-classri-contrast-drop-linei" class="header-mark"></a>6 <i class="ri-contrast-drop-line"></i></h2><p>忽略太亮/太暗</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">hsl</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">97</span> <span class="o">||</span> <span class="p">(</span><span class="nx">hsl</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">95</span> <span class="o">&amp;&amp;</span> <span class="nx">hsl</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">col</span> <span class="o">+=</span> <span class="nx">pixelStep</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">continue</span><span class="p">;</span> <span class="c1">// too bright
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">hsl</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="o">||</span> <span class="p">(</span><span class="nx">hsl</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span> <span class="nx">hsl</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">col</span> <span class="o">+=</span> <span class="nx">pixelStep</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">continue</span><span class="p">;</span> <span class="c1">// too dark
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Note: 照盘全收没有必要，去除无用的信息。</p>
<p>~~</p>
<h2 id="k-means" class="headerLink">
    <a href="#k-means" class="header-mark"></a>7 K-Means</h2><p>K = 6</p>
<p>挑选 K 个初始种子（忽略差距过小的颜色）</p>
<p><i class="ri-seedling-line"></i></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">hDiff</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">initSeed</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">h</span> <span class="o">-</span> <span class="nx">color</span><span class="p">.</span><span class="nx">h</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">sDiff</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">initSeed</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">s</span> <span class="o">-</span> <span class="nx">color</span><span class="p">.</span><span class="nx">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">lDiff</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">initSeed</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">l</span> <span class="o">-</span> <span class="nx">color</span><span class="p">.</span><span class="nx">l</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">hDiff</span> <span class="o">+</span> <span class="nx">sDiff</span> <span class="o">+</span> <span class="nx">lDiff</span> <span class="o">&lt;</span> <span class="mi">45</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Note: 我这里并没有使用相关的类库，这有利于进行更加细粒化的操作。开始记录相关信息（迭代次数、时间、颜色数量）</p>
<p>~~</p>
<h2 id="分类" class="headerLink">
    <a href="#%e5%88%86%e7%b1%bb" class="header-mark"></a>8 分类</h2><p><i class="ri-leaf-line"></i></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">while</span> <span class="p">(</span><span class="nx">len</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">distance</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">classes</span><span class="p">[</span><span class="nx">len</span><span class="p">].</span><span class="nx">h</span> <span class="o">-</span> <span class="nx">color</span><span class="p">.</span><span class="nx">h</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">classes</span><span class="p">[</span><span class="nx">len</span><span class="p">].</span><span class="nx">s</span> <span class="o">-</span> <span class="nx">color</span><span class="p">.</span><span class="nx">s</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">classes</span><span class="p">[</span><span class="nx">len</span><span class="p">].</span><span class="nx">l</span> <span class="o">-</span> <span class="nx">color</span><span class="p">.</span><span class="nx">l</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">distance</span> <span class="o">&lt;</span> <span class="nx">min</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">min</span> <span class="o">=</span> <span class="nx">distance</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">minIndex</span> <span class="o">=</span> <span class="nx">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 颜色所属的类别
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">color</span><span class="p">.</span><span class="nx">category</span> <span class="o">=</span> <span class="nx">minIndex</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>与某一个种子距离最小</p>
<p>Note: 遍历像素，将其不断划分到初始种子的相关类别。</p>
<p>~~</p>
<h2 id="性能优化" class="headerLink">
    <a href="#%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" class="header-mark"></a>9 性能优化</h2><p><i class="ri-flask-line"></i></p>
<p>HEX 作为 key 会很慢（实测）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">hKey</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">hsl</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">sKey</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">hsl</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">lKey</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">hsl</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="o">=</span> <span class="nx">hKey</span> <span class="o">+</span> <span class="nx">sKey</span> <span class="o">+</span> <span class="nx">lKey</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用 HSL 计算为整型索引</p>
<p>Note: 差异明显</p>
<p>~~</p>
<h2 id="达夫设备httpszhwikipediaorgwikie8bebee5a4abe8aebee5a487" class="headerLink">
    <a href="#%e8%be%be%e5%a4%ab%e8%ae%be%e5%a4%87httpszhwikipediaorgwikie8bebee5a4abe8aebee5a487" class="header-mark"></a>10 <a href="https://zh.wikipedia.org/wiki/%E8%BE%BE%E5%A4%AB%E8%AE%BE%E5%A4%87" target="_blank" rel="noopener noreferrer">达夫设备</a></h2><p><i class="ri-thumb-up-line"></i></p>
<p>串行复制数据，每次迭代可赋值八次</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">while</span> <span class="p">(</span><span class="nx">count</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">this</span><span class="p">.</span><span class="nx">classifyColor</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="o">--</span><span class="nx">len</span><span class="p">],</span> <span class="nx">seeds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Note: 最早是 C 语言上用的。色彩像素很多，达夫设备在少量数据时并没有什么效果，但大量数据处理时的确有性能提升。</p>
<p>~~</p>
<h2 id="k-means-信息" class="headerLink">
    <a href="#k-means-%e4%bf%a1%e6%81%af" class="header-mark"></a>11 K-Means 信息</h2><h3 id="i-classri-node-treei" class="headerLink">
    <a href="#i-classri-node-treei" class="header-mark"></a>11.1 <i class="ri-node-tree"></i></h3><ul>
<li>记录过滤后的颜色 HSL RGB HEX</li>
<li>所属分类</li>
<li>按数量排序</li>
<li>迭代次数与花费时间</li>
<li>主色、平均色</li>
</ul>
<p><i class="ri-information-line"></i>
<i class="ri-folder-4-line"></i>
<i class="ri-sort-desc"></i>
<i class="ri-timer-line"></i>
<i class="ri-numbers-line"></i></p>
<p>Note: HEX（十六进制颜色代码）、主色排名前三的色彩</p>
<p>~~</p>
<h2 id="新的种子" class="headerLink">
    <a href="#%e6%96%b0%e7%9a%84%e7%a7%8d%e5%ad%90" class="header-mark"></a>12 新的种子</h2><h3 id="i-classri-seedling-linei" class="headerLink">
    <a href="#i-classri-seedling-linei" class="header-mark"></a>12.1 <i class="ri-seedling-line"></i></h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">flag</span> <span class="o">=</span> <span class="nx">hslCount</span><span class="p">.</span><span class="nx">every</span><span class="p">((</span><span class="nx">ele</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">ele</span><span class="p">.</span><span class="nx">h</span> <span class="o">-</span> <span class="nx">seeds</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">h</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">ele</span><span class="p">.</span><span class="nx">s</span> <span class="o">-</span> <span class="nx">seeds</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">ele</span><span class="p">.</span><span class="nx">l</span> <span class="o">-</span> <span class="nx">seeds</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">l</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>计算真正的聚类种子</p>
<p>（聚类中附近的颜色差值最小）</p>
<hr>
<h2 id="数据可视化" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e5%8f%af%e8%a7%86%e5%8c%96" class="header-mark"></a>13 数据可视化</h2><p>开始</p>
<p><i class="ri-play-line"></i></p>
<p>Note: 想要的数据都拿到了，那么数据可视化开始。集中在一个页面，对同一数据源的不同表现形式。</p>
<p>~~</p>
<h2 id="k-means-生成的簇色彩" class="headerLink">
    <a href="#k-means-%e7%94%9f%e6%88%90%e7%9a%84%e7%b0%87%e8%89%b2%e5%bd%a9" class="header-mark"></a>14 K-Means 生成的簇色彩</h2><p><i class="ri-palette-line"></i></p>
<p>可自由调节种子数量</p>
<p>（太多影响性能）</p>
<p>Note: 也就是刚刚最后生成的新种子</p>
<p>~~</p>
<h2 id="主色" class="headerLink">
    <a href="#%e4%b8%bb%e8%89%b2" class="header-mark"></a>15 主色</h2><p><i class="ri-home-line"></i></p>
<p>取数量前三色彩生成渐变条</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">background</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">colors</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">linearGradient</span> <span class="o">=</span> <span class="s1">&#39;linear-gradient(to right&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">colors</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">color</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">linearGradient</span> <span class="o">+=</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nx">color</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="nx">linearGradient</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">background</span><span class="o">:</span> <span class="nx">linearGradient</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>~~</p>
<h2 id="平均色" class="headerLink">
    <a href="#%e5%b9%b3%e5%9d%87%e8%89%b2" class="header-mark"></a>16 平均色</h2><p><i class="ri-calculator-line"></i></p>
<p>各色彩 RGB 数平均</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">averageColor</span> <span class="o">=</span> <span class="nx">rgbToHex</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">r</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">rCount</span> <span class="o">/</span> <span class="nx">fCount</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">g</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">gCount</span> <span class="o">/</span> <span class="nx">fCount</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">b</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">bCount</span> <span class="o">/</span> <span class="nx">fCount</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>~~</p>
<h2 id="绑定网站前后背景色" class="headerLink">
    <a href="#%e7%bb%91%e5%ae%9a%e7%bd%91%e7%ab%99%e5%89%8d%e5%90%8e%e8%83%8c%e6%99%af%e8%89%b2" class="header-mark"></a>17 绑定网站前后背景色</h2><p>Vue.js + Nuxt.js + Vuex + Vuetify</p>
<p>存储状态树 + CSS 变量</p>
<p><i class="ri-vuejs-line"></i>
<i class="ri-css3-line"></i></p>
<p>可切换亮暗/可交换前后背景色</p>
<p><i class="ri-contrast-drop-line"></i>
<i class="ri-swap-line"></i></p>
<p>平均色 =&gt; 主色调 ｜ 色彩量最多 =&gt; 强调色</p>
<p>~~</p>
<h2 id="数据信息" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e4%bf%a1%e6%81%af" class="header-mark"></a>18 数据信息</h2><ul>
<li>色彩数量</li>
<li>提取颜色花费时间</li>
<li>迭代次数与 K-Means 算法时间</li>
<li>色彩占比</li>
</ul>
<p><i class="ri-numbers-line"></i>
<i class="ri-timer-line"></i>
<i class="ri-calculator-line"></i>
<i class="ri-percent-line"></i></p>
<p>~~</p>
<h2 id="直方图" class="headerLink">
    <a href="#%e7%9b%b4%e6%96%b9%e5%9b%be" class="header-mark"></a>19 直方图</h2><h3 id="i-classri-bar-chart-2-linei" class="headerLink">
    <a href="#i-classri-bar-chart-2-linei" class="header-mark"></a>19.1 <i class="ri-bar-chart-2-line"></i></h3><p>色彩数量与颜色十六进制</p>
<p>自由设置绘制数量</p>
<p>（按照色彩总数排序）</p>
<p>Note: 直方条不留间隙，更方便颜色对比。</p>
<p>~~</p>
<h2 id="饼图" class="headerLink">
    <a href="#%e9%a5%bc%e5%9b%be" class="header-mark"></a>20 饼图</h2><h3 id="i-classri-pie-chart-linei" class="headerLink">
    <a href="#i-classri-pie-chart-linei" class="header-mark"></a>20.1 <i class="ri-pie-chart-line"></i></h3><p>色彩数量占比（灰色代表剩余色彩）</p>
<p>自由设置绘制数量</p>
<p>（按照色彩总数排序）</p>
<p>~~</p>
<h2 id="力导向图" class="headerLink">
    <a href="#%e5%8a%9b%e5%af%bc%e5%90%91%e5%9b%be" class="header-mark"></a>21 力导向图</h2><p><i class="ri-links-line"></i></p>
<p>最初的聚类中心点与相关聚类色彩</p>
<p>Note: 意外的效果很不错</p>
<p>~~</p>
<h2 id="词云" class="headerLink">
    <a href="#%e8%af%8d%e4%ba%91" class="header-mark"></a>22 词云</h2><p><i class="ri-file-word-line"></i></p>
<p>十六进制颜色代码与对应颜色</p>
<p>（根据最大最小缩放比例）</p>
<p>点击复制颜色代码</p>
<p><i class="ri-clipboard-line"></i>
<i class="ri-code-line"></i></p>
<p>~~</p>
<h2 id="气泡图" class="headerLink">
    <a href="#%e6%b0%94%e6%b3%a1%e5%9b%be" class="header-mark"></a>23 气泡图</h2><p><i class="ri-bubble-chart-line"></i></p>
<p>各色彩气泡</p>
<p>（根据最大最小缩放比例）</p>
<p>可切换刷新</p>
<p>点击复制颜色代码</p>
<p><i class="ri-clipboard-line"></i>
<i class="ri-code-line"></i></p>
<hr>
<h2 id="这就结束了" class="headerLink">
    <a href="#%e8%bf%99%e5%b0%b1%e7%bb%93%e6%9d%9f%e4%ba%86" class="header-mark"></a>24 这就结束了</h2><p><i class="ri-question-mark"></i></p>
<p><i class="ri-stop-circle-line"></i></p>
<h3 id="no" class="headerLink">
    <a href="#no" class="header-mark"></a>24.1 NO</h3><hr>
<h2 id="最后一公里" class="headerLink">
    <a href="#%e6%9c%80%e5%90%8e%e4%b8%80%e5%85%ac%e9%87%8c" class="header-mark"></a>25 最后一公里</h2><p><i class="ri-run-line"></i></p>
<p>细节决定成败</p>
<blockquote>
<p>故不积跬步，无以至千里；<br>
不积小流，无以成江海。<br>
—— 荀子 「劝学」</p>
</blockquote>
<p>~~</p>
<h2 id="调色盘" class="headerLink">
    <a href="#%e8%b0%83%e8%89%b2%e7%9b%98" class="header-mark"></a>26 调色盘</h2><p><i class="ri-palette-line"></i>
<i class="ri-bookmark-line"></i></p>
<p>在画布上绘制图片与聚类色彩</p>
<p><i class="ri-download-2-line"></i></p>
<p>~~</p>
<h2 id="亮暗判断" class="headerLink">
    <a href="#%e4%ba%ae%e6%9a%97%e5%88%a4%e6%96%ad" class="header-mark"></a>27 亮暗判断</h2><p><i class="ri-contrast-line"></i></p>
<p>灰度计算</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">isDark</span><span class="p">(</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">color</span> <span class="o">=</span> <span class="nx">hexToRgb</span><span class="p">(</span><span class="nx">color</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">color</span><span class="p">.</span><span class="nx">r</span> <span class="o">*</span> <span class="mf">0.299</span> <span class="o">+</span> <span class="nx">color</span><span class="p">.</span><span class="nx">g</span> <span class="o">*</span> <span class="mf">0.578</span> <span class="o">+</span> <span class="nx">color</span><span class="p">.</span><span class="nx">b</span> <span class="o">*</span> <span class="mf">0.114</span> <span class="o">&lt;=</span> <span class="mi">192</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>文字切换相反色</p>
<p>~~</p>
<h2 id="国际化" class="headerLink">
    <a href="#%e5%9b%bd%e9%99%85%e5%8c%96" class="header-mark"></a>28 国际化</h2><p><i class="ri-translate-2"></i></p>
<p>中英翻译</p>
<p>多图标少文字</p>
<p>~~</p>
<h2 id="提示信息" class="headerLink">
    <a href="#%e6%8f%90%e7%a4%ba%e4%bf%a1%e6%81%af" class="header-mark"></a>29 提示信息</h2><p><i class="ri-chat-check-line" style="color:#4CAF50"></i>
<i class="ri-chat-delete-line" style="color:#F44336"></i></p>
<p>点击复制直接色彩时，显示色彩提示信息</p>
<p>未上传图片、链接时提示对应信息</p>
<p>阴影与背景区分</p>
<p>加载条</p>
<p><i class="ri-loader-line"></i></p>
<p>&hellip;</p>
<p>~~</p>
<h2 id="配色字体" class="headerLink">
    <a href="#%e9%85%8d%e8%89%b2%e5%ad%97%e4%bd%93" class="header-mark"></a>30 配色字体</h2><p><i class="ri-palette-line"></i>
<i class="ri-font-color"></i></p>
<p>统一左边框卡片风格、多彩配色</p>
<p>等宽字体 <code>Source Code Pro</code>，数字字母宽度一致</p>
<p>阴影与背景区分</p>
<p><i class="ri-character-recognition-line"></i></p>
<p>~~</p>
<h2 id="工具类库" class="headerLink">
    <a href="#%e5%b7%a5%e5%85%b7%e7%b1%bb%e5%ba%93" class="header-mark"></a>31 工具类库</h2><p><i class="ri-tools-line"></i></p>
<p>rgbToHsl, hslToRgb, rgbToHex, isDark, getHslKey</p>
<p>封装复用</p>
<p>Color Dust？ Yes!</p>
<p>色彩提取和分类信息同样是一个可独立使用的包</p>
<p>快速移植到任意网站</p>
<p><i class="ri-archive-line"></i>
<i class="ri-global-line"></i></p>
<p>~~</p>
<h2 id="pwa-与部署" class="headerLink">
    <a href="#pwa-%e4%b8%8e%e9%83%a8%e7%bd%b2" class="header-mark"></a>32 PWA 与部署</h2><p>渐进式 Web 应用</p>
<p>离线使用，一次加载长久缓存</p>
<p><i class="ri-wifi-off-line"></i>
<i class="ri-flashlight-line"></i></p>
<p>部署（CDN）</p>
<p><i class="ri-cloud-line"></i></p>
<hr>
<h2 id="谢谢" class="headerLink">
    <a href="#%e8%b0%a2%e8%b0%a2" class="header-mark"></a>33 谢谢</h2><p><i class="ri-emotion-line"></i></p>
<p>敬请老师和各位同学指正</p>
</div><div id="comments"><div id="waline" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://waline.js.org/">Waline</a>.
            </noscript></div></div></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                    由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.111.3">Hugo</a> 强力驱动&nbsp;|&nbsp;主题 - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.3.0"><i class="far fa-edit fa-fw"></i> DoIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/reliacrt" target="_blank" rel="noopener noreferrer">槲落</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div><script>
                    if('serviceWorker' in navigator) {
                        navigator.serviceWorker
                            .register('/sw.min.js', { scope: '/' })
                            .then(function(registration) {
                            });
                
                        navigator.serviceWorker
                            .ready
                            .then(function(registration) {
                            });
                    }
                </script></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="回到顶部">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><link rel="stylesheet" href="/lib/waline/waline.min.css"><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{"waline":{"comment":true,"copyright":true,"dark":"body[theme='dark'], body[theme='black']","el":"#waline","lang":"zh-cn","pageview":true,"serverURL":"https://comment-waline-api.vercel.app/"}},"data":{"desktop-header-typeit":"这里","mobile-header-typeit":"这里"},"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":false,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":50,"threshold":0.3,"type":"fuse","useExtendedSearch":false},"sharerjs":true,"table":{"sort":true},"twemoji":true,"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"desktop-header-typeit":["desktop-header-typeit"],"mobile-header-typeit":["mobile-header-typeit"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/lib/waline/waline.js" defer></script><script type="text/javascript" src="/js/waline.min.js" defer></script><script type="text/javascript" src="/lib/tablesort/tablesort.min.js"></script><script type="text/javascript" src="/lib/twemoji/twemoji.min.js" defer></script><script type="text/javascript" src="/js/twemoji.min.js" defer></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/js/theme.min.js" defer></script></div>
</body>

</html>